  @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Noto+Sans+Arabic:wght@300;400;500;600;700&display=swap');

  /* Bahij Fonts - Local fonts for Arabic text */
  @font-face {
    font-family: 'Bahij Titr';
    src: url('/fonts/Bahij%20Titr-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'Bahij Nassim';
    src: url('/fonts/Bahij%20Nassim-Regular.woff') format('woff');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  @font-face {
    font-family: 'Bahij Nassim';
    src: url('/fonts/Bahij%20Nassim-Bold.woff') format('woff');
    font-weight: bold;
    font-style: normal;
    font-display: swap;
  }

  @tailwind base;
  @tailwind components;
  @tailwind utilities;

  /* Ensure right-click works everywhere */
  * {
    -webkit-user-select: text;
    -moz-user-select: text;
    -ms-user-select: text;
    user-select: text;
  }

  /* Allow context menu on all elements */
  * {
    -webkit-touch-callout: default;
    -webkit-user-select: text;
  }

  /* Nazim School Management System - Islamic-inspired Design System */

  @layer base {
    :root {
      /* Nazim Brand Colors (Hex format for direct use) */
      --nazim-primary: #0b0b56;
      --nazim-secondary: #1a1a6a;
      --nazim-gold: #87ceeb;
      --nazim-gold-soft: #e0f2fe;
      --nazim-bg: #f8fafc;
      --nazim-surface: #ffffff;
      --nazim-border: #e2e8f0;
      --nazim-text: #0b0b56;
      --nazim-success: #16a34a;
      --nazim-warning: #f59e0b;
      --nazim-danger: #dc2626;
      --nazim-info: #0284c7;

      /* Theme Colors (HSL format for shadcn/ui compatibility) */
      --background: 210 40% 98%;
      --foreground: 240 78% 19%;

      --card: 0 0% 100%;
      --card-foreground: 240 78% 19%;

      --popover: 0 0% 100%;
      --popover-foreground: 240 78% 19%;

      --primary: 240 78% 19%;
      --primary-foreground: 0 0% 100%;

      --secondary: 240 60% 26%;
      --secondary-foreground: 0 0% 100%;

      --muted: 220 14.3% 95.9%;
      --muted-foreground: 220 8.9% 46.1%;

      --accent: 200 80% 85%;
      --accent-foreground: 240 78% 19%;

      --destructive: 0 72% 51%;
      --destructive-foreground: 0 0% 100%;

      --success: 142 71% 45%;
      --success-foreground: 0 0% 100%;

      --warning: 38 92% 50%;
      --warning-foreground: 240 78% 19%;

      --info: 199 98% 40%;
      --info-foreground: 0 0% 100%;

      --border: 214 32% 90%;
      --input: 214 32% 90%;
      --ring: 240 78% 19%;

      --chart-1: 240 78% 19%;
      --chart-2: 240 60% 26%;
      --chart-3: 200 80% 85%;
      --chart-4: 199 98% 40%;
      --chart-5: 142 71% 45%;

      --sidebar: 220 14.3% 95.9%;
      --sidebar-foreground: 240 78% 19%;
      --sidebar-primary: 240 78% 19%;
      --sidebar-primary-foreground: 0 0% 100%;
      --sidebar-accent: 200 80% 85%;
      --sidebar-accent-foreground: 240 78% 19%;
      --sidebar-border: 214 32% 90%;
      --sidebar-ring: 240 78% 19%;

      --font-sans: Inter, sans-serif;
      --font-serif: Merriweather, serif;
      --font-mono: JetBrains Mono, monospace;

      --radius: 0.5rem;

      --shadow-x: 0px;
      --shadow-y: 4px;
      --shadow-blur: 8px;
      --shadow-spread: -1px;
      --shadow-opacity: 0.1;
      --shadow-color: hsl(0 0% 0%);

      --shadow-2xs: 0px 4px 8px -1px hsl(0 0% 0% / 0.05);
      --shadow-xs: 0px 4px 8px -1px hsl(0 0% 0% / 0.05);
      --shadow-sm: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 1px 2px -2px hsl(0 0% 0% / 0.10);
      --shadow: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 1px 2px -2px hsl(0 0% 0% / 0.10);
      --shadow-md: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 2px 4px -2px hsl(0 0% 0% / 0.10);
      --shadow-lg: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 4px 6px -2px hsl(0 0% 0% / 0.10);
      --shadow-xl: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 8px 10px -2px hsl(0 0% 0% / 0.10);
      --shadow-2xl: 0px 4px 8px -1px hsl(0 0% 0% / 0.25);

      --tracking-normal: 0em;
      --spacing: 0.25rem;

      /* Animation variables */
      --transition-base: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .dark {
      --background: 240 30% 8%;
      --foreground: 240 20% 95%;

      --card: 240 25% 12%;
      --card-foreground: 240 20% 95%;

      --popover: 240 25% 12%;
      --popover-foreground: 240 20% 95%;

      --primary: 240 60% 50%;
      --primary-foreground: 0 0% 100%;

      --secondary: 240 40% 30%;
      --secondary-foreground: 0 0% 100%;

      --muted: 240 20% 15%;
      --muted-foreground: 240 10% 65%;

      --accent: 200 70% 70%;
      --accent-foreground: 240 78% 19%;

      --destructive: 0 72% 51%;
      --destructive-foreground: 0 0% 100%;

      --success: 142 70% 50%;
      --success-foreground: 0 0% 100%;

      --warning: 38 90% 55%;
      --warning-foreground: 240 78% 19%;

      --info: 199 90% 50%;
      --info-foreground: 0 0% 100%;

      --border: 240 20% 25%;
      --input: 240 20% 25%;
      --ring: 240 60% 50%;

      --chart-1: 240 60% 50%;
      --chart-2: 240 50% 40%;
      --chart-3: 200 70% 70%;
      --chart-4: 199 90% 50%;
      --chart-5: 142 70% 50%;

      --sidebar: 240 25% 12%;
      --sidebar-foreground: 240 20% 95%;
      --sidebar-primary: 240 60% 50%;
      --sidebar-primary-foreground: 0 0% 100%;
      --sidebar-accent: 200 70% 70%;
      --sidebar-accent-foreground: 240 78% 19%;
      --sidebar-border: 240 20% 25%;
      --sidebar-ring: 240 60% 50%;

      --font-sans: Inter, sans-serif;
      --font-serif: Merriweather, serif;
      --font-mono: JetBrains Mono, monospace;

      --radius: 0.5rem;

      --shadow-x: 0px;
      --shadow-y: 4px;
      --shadow-blur: 8px;
      --shadow-spread: -1px;
      --shadow-opacity: 0.1;
      --shadow-color: hsl(0 0% 0%);

      --shadow-2xs: 0px 4px 8px -1px hsl(0 0% 0% / 0.05);
      --shadow-xs: 0px 4px 8px -1px hsl(0 0% 0% / 0.05);
      --shadow-sm: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 1px 2px -2px hsl(0 0% 0% / 0.10);
      --shadow: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 1px 2px -2px hsl(0 0% 0% / 0.10);
      --shadow-md: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 2px 4px -2px hsl(0 0% 0% / 0.10);
      --shadow-lg: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 4px 6px -2px hsl(0 0% 0% / 0.10);
      --shadow-xl: 0px 4px 8px -1px hsl(0 0% 0% / 0.10), 0px 8px 10px -2px hsl(0 0% 0% / 0.10);
      --shadow-2xl: 0px 4px 8px -1px hsl(0 0% 0% / 0.25);
    }

    /* RTL Support */
    [dir="rtl"] {
      direction: rtl;
    }

    [dir="rtl"] .rotate-180 {
      transform: scaleX(-1);
    }

    /* RTL Text Alignment */
    [dir="rtl"] .text-left {
      text-align: right;
    }

    [dir="rtl"] .text-right {
      text-align: left;
    }

    /* RTL Spacing - Auto margins */
    [dir="rtl"] .ml-auto {
      margin-left: 0 !important;
      margin-right: auto !important;
    }

    [dir="rtl"] .mr-auto {
      margin-right: 0 !important;
      margin-left: auto !important;
    }

    /* RTL Error Messages - Align to left in RTL mode */
    [dir="rtl"] .text-destructive,
    [dir="rtl"] p.text-destructive,
    [dir="rtl"] .text-sm.text-destructive {
      text-align: left;
      direction: rtl;
    }

    /* 
     * RTL Dialog Fixes - Now handled via Tailwind group-[data-rtl=true]: selectors
     * in dialog.tsx, alert-dialog.tsx, sheet.tsx, drawer.tsx
     * This ensures Portal-safe RTL support without CSS conflicts
     */
  }

  @layer base {
    * {
      @apply border-border;
    }

    body {
      @apply bg-background text-foreground font-inter;
      font-feature-settings: "rlig" 1, "calt" 1;
      overflow-x: hidden;
    }
    
    html {
      overflow-x: hidden;
    }

    /* Typography */
    .font-inter {
      font-family: 'Inter', sans-serif;
    }

    .font-arabic {
      font-family: 'Noto Sans Arabic', 'Inter', sans-serif;
    }

    /* Table row striping - even rows with light gray background */
    tbody tr:nth-child(even) {
      background-color: hsl(var(--muted) / 0.3);
    }

    tbody tr:nth-child(even):hover {
      background-color: hsl(var(--muted) / 0.5);
    }

    /* Dark mode table row striping */
    .dark tbody tr:nth-child(even) {
      background-color: hsl(var(--muted) / 0.2);
    }

    .dark tbody tr:nth-child(even):hover {
      background-color: hsl(var(--muted) / 0.4);
    }

    /* Islamic patterns and decorative elements */
    .pattern-dots {
      background-image: radial-gradient(circle, hsl(var(--primary) / 0.1) 1px, transparent 1px);
      background-size: 20px 20px;
    }

    .pattern-grid {
      background-image: linear-gradient(hsl(var(--border)) 1px, transparent 1px),
                        linear-gradient(90deg, hsl(var(--border)) 1px, transparent 1px);
      background-size: 20px 20px;
    }

    /* Custom scrollbar */
    .custom-scrollbar::-webkit-scrollbar {
      width: 6px;
    }

    .custom-scrollbar::-webkit-scrollbar-track {
      background: hsl(var(--muted));
    }

    .custom-scrollbar::-webkit-scrollbar-thumb {
      background: hsl(var(--primary) / 0.3);
      border-radius: 3px;
    }

    .custom-scrollbar::-webkit-scrollbar-thumb:hover {
      background: hsl(var(--primary) / 0.5);
    }

    /* Hide scrollbar but keep functionality */
    .scrollbar-hide {
      -ms-overflow-style: none;  /* IE and Edge */
      scrollbar-width: none;  /* Firefox */
    }
    .scrollbar-hide::-webkit-scrollbar {
      display: none;  /* Chrome, Safari and Opera */
    }
  }

  @layer utilities {
    /* Animation utilities */
    .animate-fade-in {
      animation: fade-in 0.3s ease-out;
    }

    .animate-slide-in {
      animation: slide-in 0.4s ease-out;
    }

    .animate-scale-in {
      animation: scale-in 0.2s ease-out;
    }

    /* Gradient utilities */
    .bg-gradient-primary {
      background: var(--gradient-primary);
    }

    .bg-gradient-secondary {
      background: var(--gradient-secondary);
    }

    .bg-gradient-hero {
      background: var(--gradient-hero);
    }

    .bg-gradient-card {
      background: var(--gradient-card);
    }

    /* Force form grids to single column on small screens */
    @media (max-width: 640px) {
      form .grid.grid-cols-2,
      form .grid.grid-cols-3,
      form .grid.grid-cols-4,
      form .grid.grid-cols-5 {
        grid-template-columns: repeat(1, minmax(0, 1fr));
      }

      form .flex-row {
        flex-direction: column;
        align-items: stretch;
      }
    }

    /* Shadow utilities */
    .shadow-custom-sm {
      box-shadow: var(--shadow-sm);
    }

    .shadow-custom-md {
      box-shadow: var(--shadow-md);
    }

    .shadow-custom-lg {
      box-shadow: var(--shadow-lg);
    }

    .shadow-glow {
      box-shadow: var(--shadow-glow);
    }

    /* Print utilities */
    @media print {
      .print-hidden {
        display: none !important;
      }
      
      .print-visible {
        display: block !important;
      }
      
      .print-page-break {
        page-break-before: always;
      }
    }
  }

  @keyframes fade-in {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slide-in {
    from {
      opacity: 0;
      transform: translateX(-20px);
    }
    to {
      opacity: 1;
      transform: translateX(0);
    }
  }

  @keyframes scale-in {
    from {
      opacity: 0;
      transform: scale(0.95);
    }
    to {
      opacity: 1;
      transform: scale(1);
    }
  }

  @layer base {
    * {
      @apply border-border;
    }

    body {
      @apply bg-background text-foreground;
    }

    /* Grid pattern for hero background */
    .bg-grid-pattern {
      background-image: 
        linear-gradient(rgba(0, 0, 0, 0.1) 1px, transparent 1px),
        linear-gradient(90deg, rgba(0, 0, 0, 0.1) 1px, transparent 1px);
      background-size: 20px 20px;
    }

    /* Smooth scrolling for anchor links */
    html {
      scroll-behavior: smooth;
    }

    /* Custom animations */
    @keyframes float {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
    }

    .animate-float {
      animation: float 6s ease-in-out infinite;
    }

    /* Gradient text */
    .gradient-text {
      background: linear-gradient(135deg, hsl(var(--primary)), hsl(var(--accent)));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    /* Progress Bar Styles - Vibrant amber/yellow colors (not blue) */
    [data-radix-progress-root] {
      background-color: rgb(229, 231, 235) !important; /* gray-200 */
    }

    .dark [data-radix-progress-root] {
      background-color: rgb(31, 41, 55) !important; /* gray-800 */
    }

    [data-radix-progress-indicator] {
      background-color: rgb(245, 158, 11) !important; /* amber-500 - vibrant yellow/amber, not blue */
    }

    .dark [data-radix-progress-indicator] {
      background-color: rgb(251, 191, 36) !important; /* amber-400 - lighter amber for dark mode */
    }
  }
