/**
 * Fix fa.ts: Replace English and Pashto strings with proper Dari translations.
 * Run: npx tsx scripts/i18n/fix-fa-dari.ts
 */

import fs from 'fs/promises';
import path from 'path';

const REPLACEMENTS: [string | RegExp, string][] = [
  // Common English -> Dari
  [/'min Percentage'/, "'حداقل درصد'"],
  [/'card View'/, "'نمایش کارتی'"],
  [/'table View'/, "'نمایش جدولی'"],
  [/'download Pdf'/g, "'دانلود PDF'"],
  // events-like section (camelCase English)
  [/:\s*'users'/, ": 'کاربران'"],
  [/:\s*'user Create Failed'/, ": 'ایجاد کاربر ناموفق بود'"],
  [/:\s*'no Permission'/, ": 'بدون اجازه'"],
  [/:\s*'not Available'/, ": 'در دسترس نیست'"],
  [/:\s*'select Class'/, ": 'انتخاب صنف'"],
  [/:\s*'no Results'/, ": 'نتیجه‌ای یافت نشد'"],
  [/:\s*'start Date'/, ": 'تاریخ شروع'"],
  [/:\s*'end Date'/, ": 'تاریخ پایان'"],
  [/:\s*'display Order'/, ": 'ترتیب نمایش'"],
  [/:\s*'to',/, ": 'به',"],
  [/:\s*'of',/, ": 'از',"],
  [/:\s*'total',/, ": 'مجموع',"],
  [/:\s*'First'/, ": 'اول'"],
  [/:\s*'Page'/, ": 'صفحه'"],
  [/:\s*'Last'/, ": 'آخر'"],
  [/:\s*'Select School'/, ": 'انتخاب مکتب'"],
  [/:\s*'Graduation Date'/, ": 'تاریخ فراغت'"],
  [/:\s*'deselect All'/, ": 'لغو انتخاب همه'"],
  [/:\s*'select All'/, ": 'انتخاب همه'"],
  [/:\s*'reset To Default'/, ": 'بازنشانی به پیش‌فرض'"],
  [/:\s*'school Switched'/, ": 'مکتب تغییر کرد'"],
  [/:\s*'main Navigation'/, ": 'منوی اصلی'"],
  [/:\s*'add Guest'/, ": 'افزودن مهمان'"],
  [/:\s*'export Error No School'/, ": 'خطای صدور: ابتدا مکتب را تنظیم کنید'"],
  [/:\s*'export Error No Data'/, ": 'خطای صدور: داده‌ای موجود نیست'"],
  [/:\s*'export Success Excel'/, ": 'صدور اکسل با موفقیت انجام شد'"],
  [/:\s*'export Error Excel'/, ": 'خطای صدور اکسل'"],
  [/:\s*'export Success Pdf'/, ": 'صدور PDF با موفقیت انجام شد'"],
  [/:\s*'export Error Pdf'/, ": 'خطای صدور PDF'"],
  [/:\s*'export Excel'/, ": 'صدور اکسل'"],
  [/:\s*'export Pdf'/, ": 'صدور PDF'"],
  [/:\s*'filter By Status'/, ": 'فیلتر بر اساس وضعیت'"],
  [/:\s*'filter By Grade'/, ": 'فیلتر بر اساس صنف'"],
  [/:\s*'grade Example'/, ": 'مثال صنف'"],
  [/:\s*'section Example'/, ": 'مثال بخش'"],
  [/:\s*'override Capacity'/, ": 'تغییر ظرفیت'"],
  [/:\s*'sections Input Hint'/, ": 'راهنما: بخش‌ها را با کامه جدا کنید'"],
  [/:\s*'override Capacity All'/, ": 'تغییر ظرفیت همه'"],
  [/:\s*'created At'/, ": 'ایجاد شده در'"],
  [/:\s*'updated At'/, ": 'به‌روزرسانی شده در'"],
  [/:\s*'view Details'/, ": 'مشاهده جزئیات'"],
  [/:\s*'basic Information'/, ": 'اطلاعات اولیه'"],
  [/:\s*'enter Full Name'/, ": 'نام کامل را وارد کنید'"],
  [/:\s*'enter Phone Number'/, ": 'شماره تلفن را وارد کنید'"],
  [/:\s*'status Label'/, ": 'برچسب وضعیت'"],
  [/:\s*'all Academic Years'/, ": 'همه سال‌های تعلیمی'"],
  [/:\s*'search Student Placeholder'/, ": 'جستجوی شاگرد...'"],
  [/:\s*'select Course'/, ": 'انتخاب کورس'"],
  [/:\s*'auto Generated'/, ": 'تولید خودکار'"],
  [/:\s*'course Name Example'/, ": 'مثال: نام کورس'"],
  [/:\s*'first Name'/, ": 'نام'"],
  [/:\s*'last Name'/, ": 'نام خانوادگی'"],
  [/:\s*'example Categories'/, ": 'مثال دسته‌ها'"],
  [/:\s*'no Data To Export'/, ": 'داده‌ای برای صدور موجود نیست'"],
  [/:\s*'scan Card Number'/, ": 'اسکن شماره کارت'"],
  [/:\s*'unexpected Error'/, ": 'خطای غیرمنتظره'"],
  [/:\s*'confirm Delete'/, ": 'تأیید حذف'"],
  [/:\s*'not Found'/, ": 'یافت نشد'"],
  [/:\s*'save All'/, ": 'ذخیره همه'"],
  [/:\s*'go Back'/, ": 'بازگشت'"],
  [/:\s*'how To Use'/, ": 'نحوه استفاده'"],
  [/:\s*'pass Rate'/, ": 'نرخ قبولی'"],
  [/:\s*'try Again'/, ": 'تلاش مجدد'"],
  [/:\s*'validation Error'/, ": 'خطای اعتبارسنجی'"],
  [/:\s*'generate Students'/, ": 'تولید شاگردان'"],
  [/:\s*'audit Log'/, ": 'سیاههٔ حسابرسی'"],
  [/:\s*'more Pages'/, ": 'صفحات بیشتر'"],
  [/:\s*'previous Slide'/, ": 'اسلاید قبلی'"],
  [/:\s*'previous Page'/, ": 'صفحه قبلی'"],
  [/:\s*'next Page'/, ": 'صفحه بعدی'"],
  [/:\s*'view All'/, ": 'مشاهده همه'"],
  [/:\s*'page Size'/, ": 'اندازه صفحه'"],
  // Pashto -> Dari (common mixups)
  [/راپور ناکام شو/, 'گزارش ناموفق شد'],
  [/راپور بریالی شو/, 'گزارش با موفقیت ایجاد شد'],
  [/راپور جوړیږي/, 'در حال ایجاد گزارش'],
  [/مهرباني وکړئ انتظار وکړئ/, 'لطفاً صبر کنید'],
  [/د راپور جوړول/, 'تولید گزارش'],
  [/ښوونځی/g, 'مکتب'],
  [/راپور/g, 'گزارش'],
  // Value pattern: key: 'english' -> key: 'dari'
  [/:\s*'loading'/, ": 'در حال بارگذاری...'"],
  [/:\s*'saving'/, ": 'در حال ذخیره...'"],
  [/:\s*'creating'/, ": 'در حال ایجاد...'"],
  [/:\s*'updating'/, ": 'در حال به‌روزرسانی...'"],
  [/:\s*'deleting'/, ": 'در حال حذف...'"],
  [/:\s*'uploading'/, ": 'در حال آپلود...'"],
  [/:\s*'processing'/, ": 'در حال پردازش...'"],
  [/:\s*'error'/, ": 'خطا'"],
  [/:\s*'success'/, ": 'موفقیت'"],
  [/:\s*'filters'/, ": 'فیلترها'"],
  [/:\s*'actions'/, ": 'اقدامات'"],
  [/:\s*'view'/, ": 'مشاهده'"],
  [/:\s*'cancel'/, ": 'لغو'"],
  [/:\s*'confirm'/, ": 'تأیید'"],
  [/:\s*'status'/, ": 'وضعیت'"],
  [/:\s*'notes'/, ": 'یادداشت‌ها'"],
  [/:\s*'save'/, ": 'ذخیره'"],
  [/:\s*'name'/, ": 'نام'"],
  [/:\s*'code'/, ": 'کد'"],
  [/:\s*'base'/, ": 'پایه'"],
  [/:\s*'required'/, ": 'الزامی'"],
  [/:\s*'unauthorized'/, ": 'غیرمجاز'"],
  [/:\s*'download'/, ": 'دانلود'"],
  [/:\s*'type'/, ": 'نوع'"],
  [/:\s*'upload'/, ": 'آپلود'"],
  [/:\s*'published'/, ": 'منتشر شده'"],
  [/:\s*'back'/, ": 'بازگشت'"],
  [/:\s*'print'/, ": 'چاپ'"],
  [/:\s*'default'/, ": 'پیش‌فرض'"],
  [/:\s*'preview'/, ": 'پیش‌نمایش'"],
  [/:\s*'reset'/, ": 'بازنشانی'"],
  [/:\s*'close'/, ": 'بستن'"],
  [/:\s*'subjects'/, ": 'مضامین'"],
  [/:\s*'delete'/, ": 'حذف'"],
  [/:\s*'none'/, ": 'هیچ'"],
  [/:\s*'example'/, ": 'مثال'"],
  [/:\s*'edit'/, ": 'ویرایش'"],
  [/:\s*'update'/, ": 'به‌روزرسانی'"],
  [/:\s*'create'/, ": 'ایجاد'"],
  [/:\s*'add'/, ": 'افزودن'"],
  [/:\s*'email'/, ": 'ایمیل'"],
  [/:\s*'inactive'/, ": 'غیرفعال'"],
  [/:\s*'phone'/, ": 'تلفن'"],
  [/:\s*'optional'/, ": 'اختیاری'"],
  [/:\s*'unknown'/, ": 'نامشخص'"],
  [/:\s*'selected'/, ": 'انتخاب شده'"],
  [/:\s*'date'/, ": 'تاریخ'"],
  [/:\s*'yes'/, ": 'بله'"],
  [/:\s*'no'/, ": 'خیر'"],
  [/:\s*'years'/, ": 'سال‌ها'"],
  [/:\s*'clear'/, ": 'پاک کردن'"],
  [/:\s*'previous'/, ": 'قبلی'"],
  [/:\s*'next'/, ": 'بعدی'"],
  [/:\s*'address'/, ": 'آدرس'"],
  [/:\s*'clearFilters'/, ": 'پاک کردن فیلترها'"],
  [/:\s*'signature'/, ": 'امضا'"],
  [/:\s*'kb'/, ": 'کیلوبایت'"],
  [/:\s*'on'/, ": 'در'"],
  [/:\s*'days'/, ": 'روزها'"],
  [/:\s*'breadcrumb'/, ": 'مسیر راهنما'"],
  [/:\s*'today'/, ": 'امروز'"],
  [/:\s*'pass'/, ": 'کامیاب'"],
  [/:\s*'fail'/, ": 'ناکام'"],
  [/:\s*'topPerformers'/, ": 'بهترین عملکردها'"],
  [/:\s*'filter'/, ": 'فیلتر'"],
  [/:\s*'more'/, ": 'بیشتر'"],
  [/:\s*'user'/, ": 'کاربر'"],
  [/:\s*'remove'/, ": 'حذف'"],
  [/:\s*'section'/, ": 'بخش'"],
  [/:\s*'hide'/, ": 'پنهان کردن'"],
  [/:\s*'show'/, ": 'نمایش'"],
  [/:\s*'duplicate'/, ": 'تکراری'"],
  [/:\s*'metadata'/, ": 'متادیتا'"],
  [/:\s*'dates'/, ": 'تاریخ‌ها'"],
  [/:\s*'contact'/, ": 'تماس'"],
  [/:\s*'other'/, ": 'سایر'"],
  [/:\s*'from'/, ": 'از'"],
  [/:\s*'body'/, ": 'محتوا'"],
  [/:\s*'rtl'/, ": 'راست به چپ'"],
  [/:\s*'approve'/, ": 'تأیید'"],
  [/:\s*'verify'/, ": 'تأیید گواهینامه'"],
  [/:\s*'select'/, ": 'انتخاب'"],
  [/:\s*'unread'/, ": 'خوانده نشده'"],
  [/:\s*'no Data'/, ": 'داده‌ای موجود نیست'"],
  [/:\s*'checkin'/, ": 'ثبت ورود'"],
  // Additional camelCase English
  [/:\s*'search'/, ": 'جستجو'"],
  [/:\s*'retry'/, ": 'تلاش مجدد'"],
  [/:\s*'active'/, ": 'فعال'"],
  [/:\s*'export'/, ": 'صدور'"],
  [/:\s*'types'/, ": 'انواع'"],
  [/:\s*'title'/, ": 'عنوان'"],
  [/:\s*'clear Filters'/, ": 'پاک کردن فیلترها'"],
  [/:\s*'refresh'/, ": 'تازه‌سازی'"],
  [/:\s*'top Performers'/, ": 'بهترین عملکردها'"],
  [/:\s*'not Assigned To Organization'/, ": 'به سازمانی اختصاص نیافته است'"],
  [/:\s*'please Select Organization'/, ": 'لطفاً یک سازمان را انتخاب کنید'"],
  [/:\s*'import'/, ": 'وارد کردن'"],
  [/:\s*'very Strong'/, ": 'بسیار قوی'"],
  [/:\s*'current Password'/, ": 'رمز فعلی'"],
  [/:\s*'enter Current Password'/, ": 'رمز فعلی را وارد کنید'"],
  [/:\s*'enter New Password'/, ": 'رمز جدید را وارد کنید'"],
  [/:\s*'unlock'/, ": 'باز کردن قفل'"],
  [/:\s*'expenses'/, ": 'مصارف'"],
  [/:\s*'view Accounts'/, ": 'مشاهده حساب‌ها'"],
  [/:\s*'account Name'/, ": 'نام حساب'"],
  [/:\s*'account Type'/, ": 'نوع حساب'"],
  [/:\s*'currency Code'/, ": 'کد ارز'"],
  [/:\s*'currency Code Hint'/, ": 'مثال: USD, AFN'"],
  [/:\s*'currency Name Placeholder'/, ": 'مثال: افغانی'"],
  [/:\s*'currency Symbol'/, ": 'نماد ارز'"],
  [/:\s*'decimal Places'/, ": 'اعداد اعشاری'"],
  [/:\s*'base Currency'/, ": 'ارز پایه'"],
  [/:\s*'currencies Description'/, ": 'مدیریت ارزها و نرخ تبدیل'"],
  [/:\s*'add Currency'/, ": 'افزودن ارز'"],
  [/:\s*'add Currency Description'/, ": 'افزودن ارز جدید'"],
  [/:\s*'all Currencies'/, ": 'همه ارزها'"],
  [/:\s*'currencies Found'/, ": 'ارز یافت شد'"],
  [/:\s*'no Currencies'/, ": 'ارزی یافت نشد'"],
  [/:\s*'edit Currency'/, ": 'ویرایش ارز'"],
  [/:\s*'edit Currency Description'/, ": 'ویرایش ارز'"],
  [/:\s*'delete Currency Warning'/, ": 'حذف این ارز بر تمام سوابق تأثیر می‌گذارد'"],
  [/:\s*'from Currency'/, ": 'از ارز'"],
  [/:\s*'select Currency'/, ": 'انتخاب ارز'"],
  [/:\s*'to Currency'/, ": 'به ارز'"],
  [/:\s*'exchange Rate'/, ": 'نرخ تبدیل'"],
  [/:\s*'exchange Rate Hint'/, ": 'نرخ تبدیل'"],
  [/:\s*'effective Date'/, ": 'تاریخ اجرا'"],
  [/:\s*'rate Notes Placeholder'/, ": 'یادداشت (اختیاری)'"],
  [/:\s*'exchange Rates Description'/, ": 'نرخ‌های تبدیل بین ارزها'"],
  [/:\s*'add Exchange Rate'/, ": 'افزودن نرخ تبدیل'"],
  [/:\s*'add Exchange Rate Description'/, ": 'افزودن نرخ تبدیل جدید'"],
  [/:\s*'all Exchange Rates'/, ": 'همه نرخ‌های تبدیل'"],
  [/:\s*'rates Found'/, ": 'نرخ یافت شد'"],
  [/:\s*'no Exchange Rates'/, ": 'نرخ تبدیلی یافت نشد'"],
  [/:\s*'edit Exchange Rate'/, ": 'ویرایش نرخ تبدیل'"],
  [/:\s*'edit Exchange Rate Description'/, ": 'ویرایش نرخ تبدیل'"],
  [/:\s*'delete Exchange Rate Warning'/, ": 'حذف این نرخ تبدیل'"],
  [/:\s*'currency'/, ": 'ارز'"],
  [/:\s*'entry Details'/, ": 'جزئیات ورود'"],
  [/:\s*'view Entry Details'/, ": 'مشاهده جزئیات ورود'"],
  [/:\s*'entry Information'/, ": 'اطلاعات ورود'"],
  [/:\s*'account Information'/, ": 'اطلاعات حساب'"],
  [/:\s*'account Code'/, ": 'کد حساب'"],
  [/:\s*'category Information'/, ": 'اطلاعات دسته'"],
  [/:\s*'project Information'/, ": 'اطلاعات پروژه'"],
];

async function main() {
  const faPath = path.resolve(process.cwd(), 'src/lib/translations/fa.ts');
  let content = await fs.readFile(faPath, 'utf8');

  for (const [from, to] of REPLACEMENTS) {
    if (typeof from === 'string') {
      content = content.split(from).join(to);
    } else {
      content = content.replace(new RegExp(from.source, 'g'), to);
    }
  }

  await fs.writeFile(faPath, content, 'utf8');
  console.log('[fix-fa-dari] Fixed fa.ts');
}

main().catch((err) => {
  console.error(err);
  process.exit(1);
});
